#!/usr/bin/env node

const MongoService = require('../src/service/mongo-service')
const CONFIGURATION = require('../src/configuration')
const CronService = require('../src/service/cron-service')

async function main() {
    await MongoService.Connect(CONFIGURATION.MONGODB_URL)

    CronService.Start()
}

process.on('SIGINT', () => {
    CronService.Stop()

    process.exit()
})

process.on('SIGTERM', () => {
    CronService.Stop()

    process.exit()
})

main()
